<!DOCTYPE html>
<%- include('../partials/header') %>
<div class="w-full h-screen">
    <% if (user.cart.length > 0) { %> 
        <% user.cart.forEach(function(product){ %>
            <div class="grid grid-cols-12 gap-6 max-w-[80rem] mx-auto mt-4 pb-6 ">
                <div class="col-span-3  shadow- rounded-xl overflow-hidden bg-[<%= product.bgcolor %>]">
                    <div class="w-full h-[19rem] p-4  overflow-hidden">
                        <img class="w-full h-full rounded-lg bg-cover" src="data:image/jpeg;base64,<%= product.image.toString('base64') %>">
                    </div>
                    <div class="flex items-center px-3.5 justify-between bg-[<%= product.panelcolor %>]">
                        <div class="font-sans font-bold text-[<%= product.textcolor %>]">
                            <%= product.producname %>
                        </div>
                        <div class="flex gap-3 py-2">
                            <div class="bg-white px-3 py-2.5 flex items-center justify-center rounded-full">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                            </div>
                            <div class="bg-white flex items-center justify-center px-2 rounded">
                                <h1>01</h1>
                            </div>
                            <div class="bg-white px-3 py-2.5  rounded-full flex items-center justify-center">
                                <i class="fa fa-minus" aria-hidden="true"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-span-9">
                    <h1 class="text-xl font-bold">Price Breakdown</h1>
                    <div class="w-1/3 ml-4 mt-4 flex flex-col gap-3">
                        <div class="flex justify-between">
                            <h4 class="text-lg font-bold">Total MRP</h4>
                            <h4 class="text-lg font-mono"><%= product.productprice %></h4>
                        </div>
                        <div class="flex justify-between">
                            <h4 class="text-lg font-bold">Discount on MRP</h4>
                            <h4 class="text-lg font-mono"><%= Number(product.productdisc) %></h4>
                        </div>
                        <div class="flex justify-between">
                            <h4 class="text-lg font-bold">Platform Fee</h4>
                            <h4 class="text-lg font-mono">₹20</h4>
                        </div>
                        <div class="flex justify-between">
                            <h4 class="text-lg font-bold">Shipping Fee</h4>
                            <h4 class="text-lg font-mono">Free</h4>
                        </div>
                    </div>
                    <hr class="mt-3 h-[5px] rounded-full bg-gray-200">
                    <div class="flex justify-between items-center w-1/3 mt-4">
                        <h3 class="font-semibold text-lg">Total Amount</h3>
                        <h3 class="font-semibold text-green-500 font-bold">₹<%= Number(product.productprice) + 20 - Number(product.productdisc) %></h3>
                    </div>
                </div>
            </div>
        <% }) %>
    <% } else { %>
        <div class="flex items-center justify-center h-full">
            <p class="text-xl font-bold text-gray-600">Your cart is currently empty.</p>
        </div>
    <% } %>
</div>
<%- include('../partials/footer') %>
